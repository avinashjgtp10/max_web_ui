<div class="container">
    <div class="col-md-9 mx-auto">
        <div class="card">
            <div class="card-header">
                <h2>Create Diet Plan</h2>
            </div>
            <div class="col-md-10 mx-auto">
                <div class="card-body">
                    <div class="form">
                        <form class="form" #frm="ngForm" (ngSubmit)="onSubmit(frm)">

                            <div class="form-group row ">
                                <label for="username" class="col-md-4 col-form-label">User Name
                                </label>
                                <div class="col-md-8">
                                    <input class="form-control" type="tex" name="username" pattern="[a-zA-Z ]*"
                                        id="txtUserName" [(ngModel)]="dietUserName" required #username="ngModel"
                                        placeholder="Please Enter User Name " />
                                    <div *ngIf="username.touched">
                                        <div class="alert-danger" *ngIf="username.errors?.required">
                                            * User Name is Required
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group row ">
                                <label for="startdate" class="col-md-4 col-form-label">Start Date
                                </label>
                                <div class="col-md-8">
                                    <input class="form-control" type="date" name="startdate" id="txtStartdate"
                                        [(ngModel)]="dietStartDate" required #startdate="ngModel"
                                        placeholder="Please Enter start date" />
                                    <div *ngIf="startdate.touched">
                                        <div class="alert-danger" *ngIf="startdate.errors?.required">
                                            * Start Date is Required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row ">
                                <label for="lblweeks" class="col-md-4 col-form-label">Weeks
                                </label>
                                <div class="col-md-8">
                                    <input class="form-control" type="number" min="0" max="10" name="lblweeks"
                                        id="txtlblweeks" [(ngModel)]="dietWeeks" required #lblweeks="ngModel"
                                        placeholder="Please Enter Weeks" />
                                    <div *ngIf="lblweeks.touched">
                                        <div class="alert-danger" *ngIf="lblweeks.errors?.required">
                                            * Weeks is Required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row ">
                                <label for="repetition" class="col-md-4 col-form-label">Repetition
                                </label>
                                <div class="col-md-8">
                                    <input class="form-control" type="number" min="0" max="10" name="repetition"
                                        id="txtRepetition" [(ngModel)]="dietRepetition" required #repetition="ngModel"
                                        placeholder="Please Enter Repetition" />
                                    <div *ngIf="repetition.touched">
                                        <div class="alert-danger" *ngIf="repetition.errors?.required">
                                            * Repetition is Required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row ">
                                <label for="day" class="col-md-4 col-form-label">Day
                                </label>
                                <div class="col-md-8">
                                    <select class="form-control" name="day" id="txtDay" [(ngModel)]="dietDay" required
                                        #day="ngModel">
                                        <option value="Sunday">Sunday</option>
                                        <option value="Monday">Monday</option>
                                        <option value="Tuesday">Tuesday</option>
                                        <option value="Wednesday">Wednesday</option>
                                        <option value="Thursday">Thursday</option>
                                        <option value="Friday">Friday</option>
                                        <option value="Saturday">Saturday</option>
                                    </select>
                                    <div *ngIf="day.touched">
                                        <div class="alert-danger" *ngIf="day.errors?.required">
                                            * Day is Required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row ">
                                <label for="time" class="col-md-4 col-form-label">Time
                                </label>
                                <div class="col-md-8">
                                    <input class="form-control" type="time" name="time" id="txttime"
                                        [(ngModel)]="dietTime" required #time="ngModel"
                                        placeholder="Please Enter Time" />
                                    <div *ngIf="time.touched">
                                        <div class="alert-danger" *ngIf="time.errors?.required">
                                            * Time is Required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label for="item" class="col-md-4 col-form-label">Item
                                </label>
                                <div class="col-md-8">
                                    <angular2-multiselect [data]="dropdownList" name="item" [(ngModel)]="selectedItems"
                                        [settings]="dropdownSettings" (onSelect)="onItemSelect($event)"
                                        (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)"
                                        (onDeSelectAll)="onDeSelectAll($event)">
                                    </angular2-multiselect>
                                    <!-- <div *ngIf="item.touched">
                                        <div class="alert-danger" *ngIf="item.errors?.required">
                                            * Please select Item
                                        </div>
                                    </div> -->
                                </div>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-primary float-right" name="button"
                                    [disabled]="frm.invalid">
                                    Add
                                </button>
                            </div>

                            <div class="form-group ">
                                <table class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Day</th>
                                            <th>Time</th>
                                            <th>Item</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let result of resultArray">
                                            <td>{{result.dietStartDate}}</td>
                                            <td>{{result.dietDay}}</td>
                                            <td>{{result.dietTime}}</td>
                                            <td>{{result.selectedItems}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary float-right" name="button"
                                        [disabled]="frm.invalid">
                                        Confirm
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>